<!DOCTYPE html>
<html>
<head>
    <title>AI 扫描结果</title>
    <link rel="alternate" href="/asset/css/ai_result.css">
</head>
<body>
<h1>{{.msg}}</h1>

{{range $path, $aiResultUnit := .result}}
<div class="result-card">
    <h2 class="result-header">路径: {{$path}}</h2>

    {{range $funcName, $unitWithStatus := $aiResultUnit}}
    <div class="function-card">
        <div class="function-name">函数: {{$funcName}}
            {{if eq $unitWithStatus.Statue -1}}
            <span class="status-danger">危险</span>
            {{else if eq $unitWithStatus.Statue 1}}
            <span class="status-safe">安全</span>
            {{else}}
            <span class="status-suspicious">可疑</span>
            {{end}}
        </div>

        {{range $unit := $unitWithStatus.AiBoolUnits}}
        <div class="unit-item">
            {{if $.isReturnBool}}
            <div class="result-text">结果: {{$unit.Result}}</div>
            {{end}}
            <div class="reason-text">原因: {{$unit.Reason}}</div>
        </div>
        {{end}}
    </div>
    {{end}}
</div>
{{end}}


</body>
</html>